#!/usr/bin/env bash
# shellcheck disable=SC1091

################################################################################
# find script location
################################################################################
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

################################################################################
# Usage help
################################################################################
usage() {
    echo "build docker image for project"
    echo
    echo "Syntax: $0 [subcommand] [options]"
}

if [ ! -d chart ]; then
    echo "only repos which include a chart directory produce docker images"; exit 0
fi

if [ -d *-impl ]; then
    mvn compile jib:build -DpomFile=./*-impl/pom.xml --log-file jib.log; 
else
    mvn compile jib:build --log-file jib.log
fi


